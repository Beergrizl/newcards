(this.webpackJsonpcards=this.webpackJsonpcards||[]).push([[0],{17:function(e,t,n){e.exports={body404:"Page404_body404__3BfIS",container:"Page404_container__2smht",h2404:"Page404_h2404__2GIi3",h3404:"Page404_h3404__3Y1SB",p404:"Page404_p404__3xgQD",a404:"Page404_a404__3rgJM"}},18:function(e,t,n){e.exports={superInput:"SuperInputText_superInput__3p-l3",errorInput:"SuperInputText_errorInput__RaxO8",error:"SuperInputText_error__3OLa8"}},26:function(e,t,n){e.exports={default:"SuperButton_default__1nfHx",red:"SuperButton_red__38BAv",button:"SuperButton_button__2EN90",blink:"SuperButton_blink__21tU5"}},30:function(e,t,n){e.exports={checkbox:"SuperCheckbox_checkbox__1ifXx",spanClassName:"SuperCheckbox_spanClassName__wZnJw"}},43:function(e,t,n){e.exports={Main:"Main_Main__3QCEx"}},49:function(e,t,n){},50:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var r=n(0),s=n.n(r),c=n(21),i=n.n(c),a=(n(49),n(50),n(3)),o=n(4),d=n(2),j=n(40),l=n.n(j).a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),u=function(e){return l.post("/auth/login",e)},b=function(e){return l.post("/auth/register",e)},h=function(){return l.post("/auth/me")},O=function(){return l.delete("/auth/me")},p=function(e){return l.post("/auth/forgot",e)},m=function(e){return l.post("/auth/set-new-password",e)},x={isLoggedIn:!1,data:{},error:"",isInitialised:!1,status:"idle",isNewPasswordSet:"idle"},f=function(e){return{type:"Login/SET-ERROR",error:e}},v=function(e){return{type:"Login/SET-IS-LOGGED-IN",value:e}},g=function(e){return{type:"Login/SET-STATUS",status:e}},w=function(e){return{type:"Login/SET-NEW-PASSWORD",value:e}},S=n(1),y=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.login.isLoggedIn})),n=Object(o.c)((function(e){return e.login.isInitialised})),r=Object(o.c)((function(e){return e.login.data}));return n||t?Object(S.jsxs)("div",{children:[Object(S.jsx)("h1",{children:" Profile"}),Object(S.jsx)("div",{children:Object(S.jsx)("img",{alt:"",src:r.avatar})}),Object(S.jsxs)("div",{children:[" email: ",r.email]}),Object(S.jsxs)("div",{children:[" name: ",r.name]}),Object(S.jsx)("button",{onClick:function(){e((function(e){O().then((function(t){e(v(!1))})).catch((function(t){var n=t.response?t.response.data.error:t.message+", more details in the console";e(f(n))}))}))},children:"LogOut"})]}):Object(S.jsx)(a.a,{to:"/login"})},_=n(11),N=n(5),T=function(){var e=Object(o.c)((function(e){return e.login.status})),t=Object(o.b)(),n=Object(r.useState)({email:"",from:"test-front-admin <ai73a@yandex.by>",message:"<div style=\"background-color: lime; padding: 15px\">\n            password recovery link: \n            <a href='https://beergrizl.github.io/newcards/$token$'>\nlink</a></div>"}),s=Object(_.a)(n,2),c=s[0],i=s[1];return"succeeded"===e?Object(S.jsxs)("div",{children:[Object(S.jsx)("h1",{children:" Check email"}),Object(S.jsxs)("p",{children:["We send an email with instructions to ",c.email]})]}):Object(S.jsxs)("div",{children:[Object(S.jsx)("h1",{children:" PasswordRecovery"}),"email ",Object(S.jsx)("input",{type:"email",onChange:function(e){i(Object(d.a)(Object(d.a)({},c),{},{email:e.currentTarget.value}))}}),Object(S.jsx)("button",{onClick:function(){t(function(e){return function(t){t(g("loading")),p(e).then((function(e){t(g("succeeded"))})).catch((function(e){var n=e.response?e.response.data.error:e.message+", more details in the console";t(f(n))}))}}(c))},children:"Send"}),Object(S.jsx)("p",{children:"Enter your email address and we will send you further instructions"}),Object(S.jsx)(N.b,{to:"/login",children:"Login"})]})},I=n(24),R={isRegistered:!1,registrationError:""},C=function(e){return{type:"REGISTRATION/SET-REGISTRATION-ERROR",registrationError:e}},E=function(){var e=Object(o.c)((function(e){return e.registration.isRegistered})),t=Object(o.c)((function(e){return e.registration.registrationError})),n=Object(o.b)();Object(r.useEffect)((function(){t&&setTimeout((function(){C("")}),4e3)}),[t,n]);var s=Object(I.a)({initialValues:{email:"",password:"",passwordConfirm:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password?e.password.length<3&&(t.password="Must be 3 characters or more"):t.password="Required",e.passwordConfirm?e.passwordConfirm!==e.password&&(t.passwordConfirm="passwords must be same"):t.passwordConfirm="Required",t},onSubmit:function(e){var t;n((t=e,function(e){b(t).then((function(t){e({type:"REGISTRATION/SET-REGISTRATION",value:!0})})).catch((function(t){var n=t.response?t.response.data.error:t.message+", more details in the console";e(C(n))}))}))}});return e?Object(S.jsx)(a.a,{to:"/login"}):Object(S.jsxs)("div",{children:[Object(S.jsx)("div",{children:" Registration"}),Object(S.jsxs)("form",{onSubmit:s.handleSubmit,children:[Object(S.jsxs)("div",{children:[Object(S.jsx)("input",Object(d.a)({type:"email"},s.getFieldProps("email"))),s.touched.email&&s.errors.email&&Object(S.jsxs)("div",{style:{color:"red"},children:[s.errors.email," "]})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("input",Object(d.a)({type:"password",id:"password"},s.getFieldProps("password"))),s.touched.password&&s.errors.password&&Object(S.jsx)("div",{style:{color:"red"},children:s.errors.password})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("input",Object(d.a)({type:"password",id:"passwordConfirm"},s.getFieldProps("passwordConfirm"))),s.touched.passwordConfirm&&s.errors.passwordConfirm&&Object(S.jsx)("div",{style:{color:"red"},children:s.errors.passwordConfirm})]}),Object(S.jsx)("div",{style:{color:"red"},children:t||""}),Object(S.jsx)("button",{type:"submit",color:"primary",children:" Sign Up"}),Object(S.jsx)("div",{children:Object(S.jsx)(N.b,{to:"/login",children:"Login"})})]})]})},k=function(){var e=Object(o.c)((function(e){return e.login.isLoggedIn})),t=Object(o.c)((function(e){return e.login.error})),n=Object(o.b)(),r=Object(I.a)({initialValues:{email:"",password:"",rememberMe:!1},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password?e.password.length<3&&(t.password="Must be 3 characters or more"):t.password="Required",t},onSubmit:function(e){var t;n((t=e,function(e){u(t).then((function(t){e(v(!0)),e(function(e){return{type:"Login/SET-DATA",data:e}}(t.data))})).catch((function(t){var n=t.response?t.response.data.error:t.message+", more details in the console";e(f(n))}))}))}});return e?Object(S.jsx)(a.a,{to:"/profile"}):Object(S.jsxs)("div",{children:[Object(S.jsx)("h1",{children:" Login"}),Object(S.jsxs)("form",{onSubmit:r.handleSubmit,children:[Object(S.jsx)("div",{style:{color:"red"},children:t||"  "}),Object(S.jsxs)("div",{children:[Object(S.jsx)("input",Object(d.a)({type:"email"},r.getFieldProps("email"))),r.touched.email&&r.errors.email&&Object(S.jsxs)("div",{style:{color:"red"},children:[r.errors.email," "]})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("input",Object(d.a)({type:"password"},r.getFieldProps("password"))),r.touched.password&&r.errors.password&&Object(S.jsx)("div",{style:{color:"red"},children:r.errors.password})]}),Object(S.jsx)("div",{children:Object(S.jsx)("input",Object(d.a)({type:"checkbox"},r.getFieldProps("rememberMe")))}),Object(S.jsx)("div",{children:Object(S.jsx)(N.b,{to:"/passwordRecovery",children:"PasswordRecovery"})}),Object(S.jsx)("button",{type:"submit",color:"primary",children:" Login"}),Object(S.jsx)("div",{children:Object(S.jsx)(N.b,{to:"/registration",children:"Registration"})})]})]})},P=n(15),A=n(18),L=n.n(A),G=["type","onChange","onChangeText","onKeyPress","onEnter","error","className","spanClassName"],F=function(e){e.type;var t=e.onChange,n=e.onChangeText,r=e.onKeyPress,s=e.onEnter,c=e.error,i=e.className,a=e.spanClassName,o=Object(P.a)(e,G),j="".concat(L.a.error," ").concat(a||""),l="".concat(L.a.input," ").concat(c?L.a.errorInput:L.a.superInput," ").concat(i);return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("input",Object(d.a)({type:"text",onChange:function(e){t&&t(e),n&&n(e.currentTarget.value)},onKeyPress:function(e){r&&r(e),s&&"Enter"===e.key&&s()},className:l},o)),c&&Object(S.jsx)("span",{className:j,children:c})]})},D=n(26),M=n.n(D),B=["red","className"],Z=function(e){var t=e.red,n=e.className,r=Object(P.a)(e,B),s="".concat(M.a.button," ").concat(t?M.a.red:M.a.default," ").concat(n);return Object(S.jsx)("button",Object(d.a)({className:s},r))},U=n(30),q=n.n(U),J=["type","onChange","onChangeChecked","className","spanClassName","children"],W=function(e){e.type;var t=e.onChange,n=e.onChangeChecked,r=e.className,s=(e.spanClassName,e.children),c=Object(P.a)(e,J),i="".concat(q.a.checkbox," ").concat(r||"");return Object(S.jsxs)("div",{children:[Object(S.jsx)("input",Object(d.a)({className:i,type:"checkbox",id:"checkbox",name:"check",onChange:function(e){t&&t(e),n&&n(e.currentTarget.checked)}},c))," ",Object(S.jsx)("label",{htmlFor:"checkbox"}),s&&Object(S.jsx)("span",{className:q.a.spanClassName,children:s})]})},$=function(){return Object(S.jsxs)("div",{children:[Object(S.jsx)("h2",{children:"SuperComponents"}),Object(S.jsx)(F,{}),Object(S.jsx)(Z,{children:"click"}),Object(S.jsx)("div",{children:Object(S.jsx)(W,{})})]})},K=n(17),Q=n.n(K),V=function(){return Object(S.jsx)("div",{className:Q.a.body404,children:Object(S.jsxs)("div",{className:Q.a.container,children:[Object(S.jsx)("h2",{className:Q.a.h2404,children:"404"}),Object(S.jsx)("h3",{className:Q.a.h3404,children:"Oops, nothing here..."}),Object(S.jsx)("p",{className:Q.a.p404,children:"Please Check the URL"})]})})},X=n(43),z=n.n(X),H=function(){var e=Object(o.c)((function(e){return e.login.isNewPasswordSet})),t=Object(o.b)(),n=Object(r.useState)({password:"",resetPasswordToken:""}),s=Object(_.a)(n,2),c=s[0],i=s[1],j=Object(a.h)().token;return"succeeded"===e?Object(S.jsx)(a.a,{to:"/login"}):Object(S.jsxs)("div",{children:[Object(S.jsx)("h1",{children:" Create new password"}),Object(S.jsx)("input",{onChange:function(e){i(Object(d.a)(Object(d.a)({},c),{},{password:e.currentTarget.value}))},type:"password"}),Object(S.jsx)("button",{onClick:function(){j&&t(function(e){return function(t){t(w("loading")),m(e).then((function(e){t(w("succeeded"))})).catch((function(e){var n=e.response?e.response.data.error:e.message+", more details in the console";t(f(n))}))}}(Object(d.a)(Object(d.a)({},c),{},{resetPasswordToken:j})))},children:"Create new password"}),Object(S.jsx)("p",{children:"Create new password and we will send you further instructions to email"})]})},Y=function(){return Object(S.jsx)("div",{className:z.a.Main,children:Object(S.jsxs)(a.d,{children:[Object(S.jsx)(a.b,{path:"/login",element:Object(S.jsx)(k,{})}),Object(S.jsx)(a.b,{path:"/",element:Object(S.jsx)(a.a,{to:"/profile"})}),Object(S.jsx)(a.b,{path:"/profile",element:Object(S.jsx)(y,{})}),Object(S.jsx)(a.b,{path:"/registration",element:Object(S.jsx)(E,{})}),Object(S.jsx)(a.b,{path:"/passwordRecovery",element:Object(S.jsx)(T,{})}),Object(S.jsx)(a.b,{path:"/setPassword/:token/*",element:Object(S.jsx)(H,{})}),Object(S.jsx)(a.b,{path:"/superComponents",element:Object(S.jsx)($,{})}),Object(S.jsx)(a.b,{path:"404",element:Object(S.jsx)(V,{})}),Object(S.jsx)(a.b,{path:"*",element:Object(S.jsx)(a.a,{to:"/404"})})]})})},ee=n(8),te=n.n(ee),ne=function(){return Object(S.jsxs)("nav",{className:te.a.nav,children:[Object(S.jsx)("div",{children:Object(S.jsx)(N.b,{to:"/profile",className:function(e){return e.isActive?te.a.activeStyle:te.a.item},children:"Profile"})}),Object(S.jsx)("div",{children:Object(S.jsx)(N.b,{to:"/login",className:function(e){return e.isActive?te.a.activeStyle:te.a.item},children:"Login"})}),Object(S.jsx)("div",{children:Object(S.jsx)(N.b,{to:"/registration",className:function(e){return e.isActive?te.a.activeStyle:te.a.item},children:"Registration"})}),Object(S.jsx)("div",{children:Object(S.jsx)(N.b,{to:"/passwordRecovery",className:function(e){return e.isActive?te.a.activeStyle:te.a.item},children:"PasswordRecovery"})}),Object(S.jsx)("div",{children:Object(S.jsx)(N.b,{to:"/setPassword/:token/*",className:function(e){return e.isActive?te.a.activeStyle:te.a.item},children:"SetPassword"})}),Object(S.jsx)("div",{children:Object(S.jsx)(N.b,{to:"/superComponents",className:function(e){return e.isActive?te.a.activeStyle:te.a.item},children:"SuperComponents"})}),Object(S.jsx)("div",{children:Object(S.jsx)(N.b,{to:"/404",className:function(e){return e.isActive?te.a.activeStyle:te.a.item},children:"Page404"})})]})},re=function(){var e=Object(o.b)();return Object(r.useEffect)((function(){e((function(e){h().then((function(t){e({type:"Login/SET-IS-INITIALIZED",value:!0})})).catch((function(t){var n=t.response?t.response.data.error:t.message+", more details in the console";e(f(n))}))}))}),[e]),Object(S.jsxs)("div",{className:"App",children:[Object(S.jsx)(ne,{}),Object(S.jsx)(Y,{})]})},se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,76)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),s(e),c(e),i(e)}))},ce=n(27),ie=n(44),ae={},oe={},de={},je={},le={},ue=Object(ce.b)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;return t.type,e},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Login/SET-IS-LOGGED-IN":return Object(d.a)(Object(d.a)({},e),{},{isLoggedIn:t.value});case"Login/SET-DATA":return Object(d.a)(Object(d.a)({},e),{},{data:t.data});case"Login/SET-ERROR":return Object(d.a)(Object(d.a)({},e),{},{error:t.error});case"Login/SET-STATUS":return Object(d.a)(Object(d.a)({},e),{},{status:t.status});case"Login/SET-IS-INITIALIZED":return Object(d.a)(Object(d.a)({},e),{},{isInitialised:t.value});case"Login/SET-NEW-PASSWORD":return Object(d.a)(Object(d.a)({},e),{},{isNewPasswordSet:t.value});default:return e}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTRATION/SET-REGISTRATION":return Object(d.a)(Object(d.a)({},e),{},{isRegistered:t.value});case"REGISTRATION/SET-REGISTRATION-ERROR":return Object(d.a)(Object(d.a)({},e),{},{registrationError:t.registrationError});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;return t.type,e},page404:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;return t.type,e},passwordRecovery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;return t.type,e},passwordNew:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;return t.type,e}}),be=Object(ce.c)(ue,Object(ce.a)(ie.a));window.store=be,i.a.render(Object(S.jsx)(s.a.StrictMode,{children:Object(S.jsx)(N.a,{children:Object(S.jsx)(o.a,{store:be,children:Object(S.jsx)(re,{})})})}),document.getElementById("root")),se()},8:function(e,t,n){e.exports={nav:"Navbar_nav__SXaJn",item:"Navbar_item__5dQf_",activeStyle:"Navbar_activeStyle__dRicr"}}},[[74,1,2]]]);
//# sourceMappingURL=main.ee98e788.chunk.js.map